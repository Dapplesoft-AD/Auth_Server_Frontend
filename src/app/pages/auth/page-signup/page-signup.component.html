<p-toast></p-toast>

<div class="flex h-screen items-center justify-center bg-gray-100">
    <div
        class="h-150 w-full max-w-md items-center justify-center rounded bg-gray-100 p-10 shadow-xl">
        <div class="mb-8 flex justify-center">
            <img
                src="../../../../assets/images/image.png"
                alt="Logo"
                class="h-10 w-auto" />
        </div>

        <h2 class="mb-5 text-xl font-extrabold text-gray-900">Sign up</h2>

        <form
            [formGroup]="signupForm"
            (ngSubmit)="onSubmit()"
            class="space-y-6">
            <div>
                <span class="p-float-label w-full">
                    <input
                        pInputText
                        formControlName="fullName"
                        id="fullName"
                        placeholder="Enter your full name"
                        class="w-full" />
                </span>

                @if (
                    signupForm.get('fullName')?.touched &&
                    signupForm.get('fullName')?.hasError('required')
                ) {
                    <p class="mt-1 text-sm text-red-500">
                        Full Name is required
                    </p>
                }
            </div>

            <div>
                <span class="p-float-label w-full">
                    <input
                        pInputText
                        formControlName="number"
                        id="number"
                        placeholder="Enter your phone number"
                        class="w-full" />
                </span>

                @if (
                    signupForm.get('number')?.touched &&
                    signupForm.get('number')?.hasError('required')
                ) {
                    <p class="mt-1 text-sm text-red-500">
                        Mobile Number is required
                    </p>
                }

                @if (
                    signupForm.get('number')?.touched &&
                    signupForm.get('number')?.hasError('pattern')
                ) {
                    <p class="mt-1 text-sm text-red-500">
                        Enter a valid 11-digit number
                    </p>
                }
            </div>

            <div>
                <p-password
                    formControlName="password"
                    [toggleMask]="true"
                    [feedback]="false"
                    class="w-full"
                    placeholder="Enter your password"
                    inputStyleClass="w-full"></p-password>

                @if (
                    signupForm.get('password')?.touched &&
                    signupForm.get('password')?.hasError('required')
                ) {
                    <p class="mt-1 text-sm text-red-500">
                        Password is required
                    </p>
                }
            </div>

            <div>
                <p-password
                    formControlName="confirmPassword"
                    [toggleMask]="true"
                    [feedback]="false"
                    class="w-full"
                    placeholder="Enter your confirm password"
                    inputStyleClass="w-full"></p-password>

                @if (
                    signupForm.get('confirmPassword')?.touched &&
                    signupForm.get('confirmPassword')?.hasError('required')
                ) {
                    <p class="mt-1 text-sm text-red-500">
                        Confirm Password is required
                    </p>
                }

                @if (
                    signupForm.hasError('mismatch') &&
                    signupForm.get('confirmPassword')?.touched
                ) {
                    <p class="mt-1 text-sm text-red-500">
                        Passwords do not match
                    </p>
                }
            </div>

            <div class="flex items-center space-x-3">
                <p-checkbox
                    formControlName="acceptTerms"
                    binary="true"></p-checkbox>
                <span class="text-sm">
                    I agree to the
                    <a routerLink="/terms" class="text-blue-500 hover:underline"
                        >Terms & Conditions</a
                    >
                </span>
            </div>

            @if (
                signupForm.get('acceptTerms')?.touched &&
                signupForm.get('acceptTerms')?.invalid
            ) {
                <p class="mt-1 text-sm text-red-500">
                    You must accept the terms and conditions
                </p>
            }

            <button
                pButton
                type="submit"
                class="w-full rounded-md bg-blue-400 py-2 font-bold text-white transition hover:bg-blue-500">
                Sign Up
            </button>
        </form>

        <p class="mt-8 text-center text-sm text-gray-600">
            Already have an account?
            <a
                routerLink="/"
                class="font-semibold text-blue-500 hover:underline">
                Login
            </a>
        </p>
    </div>
</div>
